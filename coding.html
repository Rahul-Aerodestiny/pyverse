<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python Online Editor | PyVerse</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- CodeMirror -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/dracula.min.css">

  <style>
    body {
      background-color: #0d1117;
      color: #f8f9fa;
      font-family: "Poppins", sans-serif;
    }

    .hero {
      background: linear-gradient(135deg, #007bff, #6610f2);
      padding: 60px 0;
      color: white;
      text-align: center;
    }

    #editor {
      height: 400px;
      border-radius: 8px;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    #output {
      background: #161b22;
      color: #00ff88;
      border-radius: 8px;
      padding: 15px;
      height: 200px;
      overflow-y: auto;
      white-space: pre-wrap;
      font-family: monospace;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
    }

    .btn-custom {
      border-radius: 25px;
      font-weight: 500;
    }

    .terminal-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #ffc107;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top shadow">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="index.html"><i class="bi bi-playstation"></i> PyVerse</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="basic.html">Basic Python</a></li>
        <li class="nav-item"><a class="nav-link" href="intermediate.html">Intermediate</a></li>
        <li class="nav-item"><a class="nav-link" href="advanced.html">Advanced</a></li>
        <li class="nav-item"><a class="nav-link active" href="coding.html">Coding</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About Me</a></li>
      </ul>
    </div>
  </div>
</nav>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1 class="display-5 fw-bold">Python Code Editor</h1>
      <p class="lead">Write, run, and experiment with Python code right in your browser!</p>
    </div>
  </section>

  <!-- Editor Section -->
  <section class="container py-5">
    <div class="row">
      <div class="col-lg-6 mb-4">
        <h4 class="text-info mb-3"><i class="bi bi-pencil-square"></i> Write Your Python Code</h4>
        <textarea id="editor"></textarea>

        <div class="d-flex gap-2 mt-3">
          <button id="runBtn" class="btn btn-success btn-custom">
            <i class="bi bi-play-fill"></i> Run Code
          </button>
          <button id="clearBtn" class="btn btn-outline-warning btn-custom">
            <i class="bi bi-eraser-fill"></i> Clear
          </button>
          <button id="resetBtn" class="btn btn-outline-danger btn-custom">
            <i class="bi bi-arrow-clockwise"></i> Reset Code
          </button>
        </div>
      </div>

      <div class="col-lg-6">
        <h4 class="text-warning mb-2 terminal-title"><i class="bi bi-terminal"></i> Output Terminal</h4>
        <div id="output"></div>
      </div>
    </div>
  </section>

  <footer class="bg-dark text-center text-light py-3 mt-4">
    <p class="mb-0">© 2025 PyVerse | Built with ❤️ by Rahul Kumar</p>
  </footer>

  <!-- Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/python/python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>

  <script>
    // Initialize CodeMirror editor
    const editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
      mode: "python",
      theme: "dracula",
      lineNumbers: true,
      indentUnit: 4,
      smartIndent: true,
      autofocus: true
    });

    // Default starter code
    const defaultCode = `# Welcome to PyVerse Editor
print("Hello, PyVerse!")
name = input("Enter your name: ")
print(f"Hi {name}, enjoy coding in Python!")`;

    editor.setValue(defaultCode);

    // Skulpt setup for output
    function outf(text) {
      document.getElementById("output").innerText += text;
    }

    function runCode() {
      let code = editor.getValue();
      document.getElementById("output").innerText = ""; // Clear output
      Sk.configure({ output: outf, read: builtinRead });
      Sk.misceval.asyncToPromise(() => Sk.importMainWithBody("<stdin>", false, code, true))
        .catch(err => {
          document.getElementById("output").innerText = err.toString();
        });
    }

    function builtinRead(x) {
      if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
        throw "File not found: '" + x + "'";
      return Sk.builtinFiles["files"][x];
    }

    // Button actions
    document.getElementById("runBtn").onclick = runCode;
    document.getElementById("clearBtn").onclick = () => document.getElementById("output").innerText = "";
    document.getElementById("resetBtn").onclick = () => editor.setValue(defaultCode);
  </script>
</body>
</html>
